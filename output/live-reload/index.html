
  
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marius Gundersen</title>
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=700px, initial-scale=0.5" />
    <link rel="stylesheet" href="/style/main.css?v=1730801206042" />
    <link rel="stylesheet" href="/style/tomorrow-night.css?v=1730801206042" />
  </head>

  <body>
    <div id="wrapper">

      <header>
        <h1><a href="/">Marius Gundersen</a></h1>
      </header>
      <nav class="clearfix article">
        <a href="/">
          <span>Work in progress</span>
        </a>
        <a href="/talks">
          <span>Talks</span>

        </a>
      </nav>

      
      <section class="articleBlock">
      <h2>Webpack CSS LiveReload</h2><p>In this article I will describe how to make a very simple but useful live-reload plugin for Webpack, something I recently needed for a project. There are more complex plugins available, but they rely on the dev server which I couldn&#x27;t use. Therefore I hacked together a simple standalone live-reload plugin, and now I&#x27;m sharing my journey with you.</p><p>The goal is for the CSS in a website to automatically update whenever the source stylesheet is edited. To achive this we need to break the problem into smaller parts:</p><ul><li>Detect that a CSS file has changed</li><li>Notify the website that depends on the CSS file</li><li>Replace the existing CSS file with the new version</li></ul><p>This should all be implemented as a webpack plugin. The simplest way to create a plugin in webpack, perfect for hacking together a quick test, is as a function.</p><div class="waves-wave"><div class="waves-sticker-container"><div style="height:100%;width:100%"><div class="waves-sticker"><style data-emotion-css="1d4s020">body{color:var(--theme-ui-colors-text,rgb(57,58,52));background-color:var(--theme-ui-colors-background,rgb(246,248,250));}</style><style data-emotion-css="0"></style><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// webpack.config.js</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">module</span><span class="token-punctuation">.</span><span class="token-property-access">exports</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-plain">  entry</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-plain"> </span><span class="token-string">&#x27;./src/index.js&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;./src/index.css&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-plain">  output</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-plain">    path</span><span class="token-operator">:</span><span class="token-plain"> __dirname</span><span class="token-operator">+</span><span class="token-string">&#x27;/output/assets&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-plain">    publicPath</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&#x27;/assets/&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">  </span><span class="token-comment">// Lots more configuration complicating things here...</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">  plugins</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-103"><span class="token-plain">  </span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-104"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">  </span><span class="token-comment">// Lots more configuration complicating things here...</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-plain">      compiler</span><span class="token-punctuation">.</span><span class="token-property-access">hooks</span><span class="token-punctuation">.</span><span class="token-property-access">assetEmitted</span><span class="token-punctuation">.</span><span class="token-method">tap</span><span class="token-punctuation">(</span><span class="token-plain">plugin_name</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">name</span><span class="token-punctuation">,</span><span class="token-parameter"> info</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">      </span><span class="token-keyword">const</span><span class="token-plain"> publicPath </span><span class="token-operator">=</span><span class="token-plain"> compiler\</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-plain">\</span><span class="token-punctuation">.</span><span class="token-property-access">output</span><span class="token-plain">\</span><span class="token-punctuation">.</span><span class="token-property-access">publicPath</span><span class="token-plain"> </span><span class="token-operator">??</span><span class="token-plain"> </span><span class="token-string">&#x27;/&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-plain">      compiler</span><span class="token-punctuation">.</span><span class="token-property-access">hooks</span><span class="token-punctuation">.</span><span class="token-property-access">assetEmitted</span><span class="token-punctuation">.</span><span class="token-method">tap</span><span class="token-punctuation">(</span><span class="token-plain">plugin_name</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">name</span><span class="token-punctuation">,</span><span class="token-parameter"> info</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">      </span><span class="token-keyword">const</span><span class="token-plain"> publicPath </span><span class="token-operator">=</span><span class="token-plain"> compiler\</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-plain">\</span><span class="token-punctuation">.</span><span class="token-property-access">output</span><span class="token-plain">\</span><span class="token-punctuation">.</span><span class="token-property-access">publicPath</span><span class="token-plain"> </span><span class="token-operator">??</span><span class="token-plain"> </span><span class="token-string">&#x27;/&#x27;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">      </span><span class="token-keyword">const</span><span class="token-plain"> publicPath </span><span class="token-operator">=</span><span class="token-plain"> compiler\</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-plain">\</span><span class="token-punctuation">.</span><span class="token-property-access">output</span><span class="token-plain">\</span><span class="token-punctuation">.</span><span class="token-property-access">publicPath</span><span class="token-plain"> </span><span class="token-operator">??</span><span class="token-plain"> </span><span class="token-string">&#x27;/&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-111"><span class="token-keyword">const</span><span class="token-plain"> es </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">EventSource</span><span class="token-punctuation">(</span><span class="token-string">&#x27;http://localhost:8789&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> withCredentials</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      events</span><span class="token-punctuation">.</span><span class="token-method">emit</span><span class="token-punctuation">(</span><span class="token-string">&#x27;message&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">event: message\ndata: </span><span class="token-interpolation-punctuation">${</span><span class="token-known-class-name">JSON</span><span class="token-punctuation">.</span><span class="token-method">stringify</span><span class="token-punctuation">(</span><span class="token-interpolation">data</span><span class="token-punctuation">)</span><span class="token-interpolation-punctuation">}</span><span class="token-string">\n\n</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-111"><span class="token-keyword">const</span><span class="token-plain"> es </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">EventSource</span><span class="token-punctuation">(</span><span class="token-string">&#x27;http://localhost:8789&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> withCredentials</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      events</span><span class="token-punctuation">.</span><span class="token-method">emit</span><span class="token-punctuation">(</span><span class="token-string">&#x27;message&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">event: message\ndata: </span><span class="token-interpolation-punctuation">${</span><span class="token-known-class-name">JSON</span><span class="token-punctuation">.</span><span class="token-method">stringify</span><span class="token-punctuation">(</span><span class="token-interpolation">data</span><span class="token-punctuation">)</span><span class="token-interpolation-punctuation">}</span><span class="token-string">\n\n</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      events</span><span class="token-punctuation">.</span><span class="token-method">emit</span><span class="token-punctuation">(</span><span class="token-string">&#x27;message&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">event: message\ndata: </span><span class="token-interpolation-punctuation">${</span><span class="token-known-class-name">JSON</span><span class="token-punctuation">.</span><span class="token-method">stringify</span><span class="token-punctuation">(</span><span class="token-interpolation">data</span><span class="token-punctuation">)</span><span class="token-interpolation-punctuation">}</span><span class="token-string">\n\n</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      events</span><span class="token-punctuation">.</span><span class="token-method">emit</span><span class="token-punctuation">(</span><span class="token-string">&#x27;message&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">event: message\ndata: </span><span class="token-interpolation-punctuation">${</span><span class="token-known-class-name">JSON</span><span class="token-punctuation">.</span><span class="token-method">stringify</span><span class="token-punctuation">(</span><span class="token-interpolation">data</span><span class="token-punctuation">)</span><span class="token-interpolation-punctuation">}</span><span class="token-string">\n\n</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      events</span><span class="token-punctuation">.</span><span class="token-method">emit</span><span class="token-punctuation">(</span><span class="token-string">&#x27;message&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">event: message\ndata: </span><span class="token-interpolation-punctuation">${</span><span class="token-known-class-name">JSON</span><span class="token-punctuation">.</span><span class="token-method">stringify</span><span class="token-punctuation">(</span><span class="token-interpolation">data</span><span class="token-punctuation">)</span><span class="token-interpolation-punctuation">}</span><span class="token-string">\n\n</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      events</span><span class="token-punctuation">.</span><span class="token-method">emit</span><span class="token-punctuation">(</span><span class="token-string">&#x27;message&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">event: message\ndata: </span><span class="token-interpolation-punctuation">${</span><span class="token-known-class-name">JSON</span><span class="token-punctuation">.</span><span class="token-method">stringify</span><span class="token-punctuation">(</span><span class="token-interpolation">data</span><span class="token-punctuation">)</span><span class="token-interpolation-punctuation">}</span><span class="token-string">\n\n</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      events</span><span class="token-punctuation">.</span><span class="token-method">emit</span><span class="token-punctuation">(</span><span class="token-string">&#x27;message&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">event: message\ndata: </span><span class="token-interpolation-punctuation">${</span><span class="token-known-class-name">JSON</span><span class="token-punctuation">.</span><span class="token-method">stringify</span><span class="token-punctuation">(</span><span class="token-interpolation">data</span><span class="token-punctuation">)</span><span class="token-interpolation-punctuation">}</span><span class="token-string">\n\n</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">    compiler</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">[</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-keyword">import</span><span class="token-operator">?.</span><span class="token-method">push</span><span class="token-punctuation">(</span><span class="token-plain">require</span><span class="token-punctuation">.</span><span class="token-method">resolve</span><span class="token-punctuation">(</span><span class="token-string">&#x27;./client.js&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">    compiler</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">[</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-keyword">import</span><span class="token-operator">?.</span><span class="token-method">push</span><span class="token-punctuation">(</span><span class="token-plain">require</span><span class="token-punctuation">.</span><span class="token-method">resolve</span><span class="token-punctuation">(</span><span class="token-string">&#x27;./client.js&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">    compiler</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">[</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-keyword">import</span><span class="token-operator">?.</span><span class="token-method">push</span><span class="token-punctuation">(</span><span class="token-plain">require</span><span class="token-punctuation">.</span><span class="token-method">resolve</span><span class="token-punctuation">(</span><span class="token-string">&#x27;./client.js&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">//webpack.config.js</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">    compiler</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">[</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">options</span><span class="token-punctuation">.</span><span class="token-property-access">entry</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-keyword">import</span><span class="token-operator">?.</span><span class="token-method">push</span><span class="token-punctuation">(</span><span class="token-plain">require</span><span class="token-punctuation">.</span><span class="token-method">resolve</span><span class="token-punctuation">(</span><span class="token-string">&#x27;./client.js&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div></div><div class="waves-scroller-container" data-wave-scroller="true"><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:0%;width:3px"></div><div><p>Given a simple webpack configuration file like this, where I have left out most of the interesting things, it&#x27;s easy to add a new plugin</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>The plugin is a function that gets called with one parameter, the compiler. I&#x27;ve created a variable called <code>plugin_name</code> that we need several times later on.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><h3>Detecting changes to assets</h3><p>Webpack plugins can be notified whenever an asset (any file generated by webpack) is emited (written to the filesystem) by subscribing to the <a href="https://webpack.js.org/api/compiler-hooks/#assetemitted"><code>assetEmitted</code> hook</a>, so let&#x27;s set it up in the plugin.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>The name is relative to the <code>output.path</code> property, so a file like <code>/output/assets/main.css</code> will only have the name <code>main.css</code>. To get the path that the client is interested in, the one that is in <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/main.css&quot;&gt;</code>, we need to concat the <code>output.publicPath</code> property with the name. If <code>publicPath</code> isn&#x27;t set then we use <code>/</code> to get the root path.</p><p>Note that <code>publicPath</code> can be a function, but I&#x27;m not adding support for that here.</p><h3>Notifying the client</h3><p>Now that we know if a file has changed we need to notify the client. I&#x27;m going to use <a href="https://web.dev/articles/eventsource-basics">Server Sent Events</a> to do this, because it&#x27;s very simple to set up yet robust. This requires a small client side script that can connect to a small webserver and listen for events. The events are sent to the client as newline separated text, something like this:</p><div><pre><code>event: message
data: Something here

event: message
data: Data is always a string

event: message
data: {&quot;json&quot;: true, &quot;text&quot;: &quot;To send something more complex just serialize it as JSON&quot;}
</code></pre></div><p>In the above example you can see that each event is separated by two newline characters, and each event has a name (<code>message</code> in the above example) and some data. There are some more options and technical details, but this is enough for us to implement a live-reload server.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>Webpack runs in node.js so we can make a simple node http server that only sends messages. This little server will send two messages and then do nothing. Creating a client that listens to these events is even simpler.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>EventSource is part of the web platform, so this is a no dependency client. It connects to the server and then uses an event listener to get notified every time the server sends a message. This client will even reconnect to the server if the connection is lost, without me having to code anything.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>I&#x27;ve expanded the server with an EventEmitter and made the function return an object with a <code>sendMessage</code> function. The data parameter is serialized as json and sent to the client. We can now use this in our plugin to send messages to the client.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>Instead of logging to the console the plugin now sends a message to all connceted clients.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><h3>Updating the CSS in the client</h3><p>The client gets a message every time any asset changes, but so far it only <code>console.logs</code> it. We can filter it so it only reacts to css files (maybe this should have been done in the server?).</p><p>Next we want to update the stylesheet that has changed. We can look at all the stylesheets in the document using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/styleSheets"><code>document.stylesheets</code></a> and compare their <a href="https://developer.mozilla.org/en-US/docs/Web/API/StyleSheet/href"><code>href</code></a> with the <code>asset</code> value. We can then use <a href="https://developer.mozilla.org/en-US/docs/Web/API/StyleSheet/ownerNode"><code>ownerNode</code></a> to find the <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code> that imported it. This is slightly limiting in that it cannot replace <code>@import url(&#x27;./another.css&#x27;)</code> stylesheets.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>We can find the html <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code> element for the given stylesheet by using the <code>ownerNode</code> property. We need to force this element to reload the stylesheet, so we append the current timestamp to the end of the url, which will bypass the cache. But instead of updating the existing link I create a clone and insert it, and I only remove the old element once the new one has loaded. This prevents flash of unstyled content (<a href="FOUC">https://en.wikipedia.org/wiki/Flash_of_unstyled_content</a>).</p><p>And that&#x27;s about it, we have a simple but working live-reload implementation.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><h3>Getting the client code into the bundle</h3><p>There are a few details I have skipped over so far to keep things simple. For example, we only want this plugin during <code>watch</code>. So let&#x27;s check if the watch option is enabled, and if it isn&#x27;t this plugin shouldn&#x27;t do anything.</p><p>But we also want to add the client code to our entry bundle. When developing and testing this plugin I just added the code to my entry, but that means the code is included in the production build as well. A much better solution is for the plugin to add the client code when it is needed. This is quite easy to do, although the webpack documentation doesn&#x27;t want to admit that.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>I&#x27;m adding the client.js file to the main entry, since in this example I only have one entry. But maybe it should be added to another entry? It would be nice if the user of the plugin could specify themselves which entry it should be added to.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>I&#x27;ve pulled out the plugin as a class so that an instance of it can be made in the plugin array with some option parameters. This way we can pass in different options depending on what you want to do.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>This way we can supply other options, for example the port we want the SSE server to run on, which is passed into the createSseServer function.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>We also need to tell the client js code what port to run on. A neat trick with webpack plugins is that one plugin can call another plugi, so we use the <a href="https://webpack.js.org/plugins/define-plugin/">DefinePlugin</a> to define a magic variable for the client code to use.</p><p>And that&#x27;s about it! There are improvements that can be done, obviously, but this is the code I&#x27;m using in my project, and it is working perfectly well.</p></div></div></div></div><p>I have published this plugin to <a href="https://www.npmjs.com/package/live-reload-css-webpack-plugin">npm</a> and on <a href="https://github.com/mariusGundersen/live-reload-css-webpack-plugin">github</a>.</p>
      </section>

      <div>
        <em>
          Did you find a mistake or have a suggestion for an improvement?
          <a href="https://github.com/mariusGundersen/website/issues/new" target="_blank">Let me know</a>
          or
          <a href="https://github.com/mariusGundersen/website/blob/master/article/live-reload/index.md" target="_blank">fork it</a>
          and send me a pull-request.
        </em>
      </div>
  

      <footer>
        <div>
          <div id="contactMe">
            <a href="mailto:me@mariusgundersen.com">Email</a>
            <a rel="me" href="https://mastodon.social/@gundersen">Mastodon</a>
            <a href="//twitter.com/gundersenMarius">Twitter</a>
            <a href="//github.com/mariusGundersen/">GitHub</a>
            <a href="https://stackoverflow.com/users/1585/marius">Stack Overflow</a>
          </div>
        </div>

        <script type="text/javascript">
          var _paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(['trackPageView']);
          _paq.push(['enableLinkTracking']);
          (function() {
            var u="//analytics.mariusgundersen.net/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '1']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
          })();
        </script>
      </footer>
    </div>
  </body>

  </html>

  <script src="./index.js"></script>
  <link rel="stylesheet" href="/style/waves.css?v=1730801206042" />
  <link rel="stylesheet" href="/style/vscode-dark.css?v=1730801206042" />
