
  
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marius Gundersen</title>
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=700px, initial-scale=0.5" />
    <link rel="stylesheet" href="/style/main.css?v=1741464252232" />
    <link rel="stylesheet" href="/style/tomorrow-night.css?v=1741464252232" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.10/dist/katex.min.css" integrity="sha384-0cCFrwW/0bAk1Z/6IMgIyNU3kfTcNirlObr4WjrUU7+hZeD6ravdYJ3kPWSeC31M" crossorigin="anonymous">
  </head>

  <body>
    <div id="wrapper">

      <header>
        <h1><a href="/">Marius Gundersen</a></h1>
      </header>
      <nav class="clearfix article">
        <a href="/">
          <span>Work in progress</span>
        </a>
        <a href="/talks">
          <span>Talks</span>

        </a>
      </nav>

      
      <section class="articleBlock">
      <h1>Template Literal Types</h1><p>With the release of TypeScript 4.1 we get a really powerful feature called <a href="https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html">template literal types</a>. This is based on the template literals that are in JavaScript, but now for the type system in TypeScript. Together with conditional types it makes it possible to parse strings and represent them as types at compile time. An early example that I saw was of <a href="https://github.com/codemix/ts-sql">ts-sql</a>, which is an sql database implemented purely in TypeScript types. This might seem like a silly example, and while clever not really useful. But I found a place where I needed this kind of functionality, and set about trying to <del>understand</del> implement template literal types.</p><h2>WebGL and shaders</h2><p>The scenario I wanted to explore is that of WebGL shaders, specifically the uniforms in the shaders. If you don&#x27;t have much experience with WebGL (or GL shaders in general), then what you need to know is that <del>working with WebGL is a horrible experience</del> there are many small libraries that make it easier to use WebGL. A shader is a small program written in a language very similar to C which is compiled by the browser and run on the graphics card. This small C program takes input, and the output of the C program is what you see on the screen. Here is a very simple example of what it could look like:</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> vertexShader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  precision highp float;

  // here is an attribute
  attribute vec3 position;

  varying vec2 uv;

  void main() {
    gl_Position = vec4(position, 1.0);
    uv = position.xy;
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> fragmentShader <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  precision highp float;

  // and here is a uniform
  uniform float time;

  varying vec2 uv;

  void main() {
    gl_FragColor = vec4(0.5*(uv+1.0), 0.5*(cos(time)+1.0), 1.0);
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> canvas <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> gl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token method function property-access">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;webgl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> programInfo <span class="token operator">=</span> twgl<span class="token punctuation">.</span><span class="token method function property-access">createProgramInfo</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">[</span>vertexShader<span class="token punctuation">,</span> fragmentShader<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bufferInfo <span class="token operator">=</span> twgl<span class="token punctuation">.</span><span class="token method function property-access">createBufferInfoFromArrays</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// this is the attribute again</span>
  position<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  twgl<span class="token punctuation">.</span><span class="token method function property-access">resizeCanvasToDisplaySize</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl<span class="token punctuation">.</span><span class="token method function property-access">viewport</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span><span class="token property-access">width</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span><span class="token property-access">height</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  gl<span class="token punctuation">.</span><span class="token method function property-access">useProgram</span><span class="token punctuation">(</span>programInfo<span class="token punctuation">.</span><span class="token property-access">program</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  twgl<span class="token punctuation">.</span><span class="token method function property-access">setBuffersAndAttributes</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> programInfo<span class="token punctuation">,</span> bufferInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
  twgl<span class="token punctuation">.</span><span class="token method function property-access">setUniforms</span><span class="token punctuation">(</span>programInfo<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// and this is the uniform again</span>
    time<span class="token operator">:</span> time <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  twgl<span class="token punctuation">.</span><span class="token method function property-access">drawBufferInfo</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> bufferInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>This code results in this fantastic looking WebGL demo:</p><canvas style="width:100%;background:#1d1f21"></canvas><p>This is about as simple of a WebGL program you can have, but don&#x27;t worry if it looks intimidating, we don&#x27;t really need to understand how it works. The important bits are the ones I have commented. There is one attribute (<code>position</code>) and one uniform (<code>time</code>), and they show up twice, once in the shaders and once in the js code. For the WebGL code to work the attributes and uniforms used in the shaders have to be given a value in the js code, and they have to be given the correct type of value. If the value isn&#x27;t set, the name is spelled wrong or the wrong js type is given, then the code will either not behave correctly or not work at all. So, it would be useful to have TypeScript check for us if we have set the right attributes and uniforms for us, by comparing the TypeScript code with the shader program. But that means we have to teach TypeScript to understand a C program string. So let&#x27;s do that!</p><div class="waves-wave"><div class="waves-sticker-container"><div style="height:100%;width:100%"><div class="waves-sticker"><style data-emotion-css="1d4s020">body{color:var(--theme-ui-colors-text,rgb(57,58,52));background-color:var(--theme-ui-colors-background,rgb(246,248,250));}</style><style data-emotion-css="0"></style><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">uniform </span><span class="token-interpolation-punctuation">${</span><span class="token-builtin">string</span><span class="token-interpolation-punctuation">}</span><span class="token-string"> </span><span class="token-interpolation-punctuation">${</span><span class="token-builtin">string</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-comment">// this is ok</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-keyword">const</span><span class="token-plain"> success</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&quot;uniform vec2 something&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-124"><span class="token-comment">// this is not ok</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-125"><span class="token-keyword">const</span><span class="token-plain"> failure</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&quot;not a uniform&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-128"><span class="token-keyword">const</span><span class="token-plain"> failure</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&quot;uniform unknown something&quot;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-123"><span class="token-keyword">const</span><span class="token-plain"> failure</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-string">&quot;float&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;something&quot;</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&quot;uniform vec2 something&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-128"><span class="token-keyword">const</span><span class="token-plain"> failure</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&quot;uniform unknown something&quot;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-123"><span class="token-keyword">const</span><span class="token-plain"> failure</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-string">&quot;float&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;something&quot;</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&quot;uniform vec2 something&quot;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.4"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">GetUniform</span><span class="token-operator">&lt;</span><span class="token-constant">T</span><span class="token-class-name"> </span><span class="token-keyword">extends</span><span class="token-class-name"> </span><span class="token-builtin">string</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-constant">T</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-maybe-class-name">Uniform</span><span class="token-operator">&lt;</span><span class="token-class-name">infer </span><span class="token-maybe-class-name">Type</span><span class="token-punctuation">,</span><span class="token-class-name"> infer </span><span class="token-maybe-class-name">Name</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-keyword">const</span><span class="token-plain"> programInfo </span><span class="token-operator">=</span><span class="token-plain"> twgl</span><span class="token-punctuation">.</span><span class="token-method">createProgramInfo</span><span class="token-punctuation">(</span><span class="token-plain">gl</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-plain">vertexShader</span><span class="token-punctuation">,</span><span class="token-plain"> fragmentShader</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="w5n1f6">.css-w5n1f6{color:#d4d4d4;background-color:#1e1e1e;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-cdata,.css-w5n1f6 .token-doctype{font-style:italic;}.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-changed,.css-w5n1f6 .token-keyword,.css-w5n1f6 .token-punctuation,.css-w5n1f6 .token-operator,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-deleted,.css-w5n1f6 .token-string,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-char,.css-w5n1f6 .token-number,.css-w5n1f6 .token-inserted{color:rgb(0,164,219);}.css-w5n1f6 .token-line-number{opacity:0.65;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-w5n1f6 .token-comment,.css-w5n1f6 .token-prolog,.css-w5n1f6 .token-doctype,.css-w5n1f6 .token-cdata{color:#6a9955;}.css-w5n1f6 .token-punctuation{color:#d4d4d4;}.css-w5n1f6 .token-property,.css-w5n1f6 .token-tag,.css-w5n1f6 .token-boolean,.css-w5n1f6 .token-number,.css-w5n1f6 .token-constant,.css-w5n1f6 .token-symbol,.css-w5n1f6 .token-deleted{color:#b5cea8;}.css-w5n1f6 .token-selector,.css-w5n1f6 .token-attr-name,.css-w5n1f6 .token-string,.css-w5n1f6 .token-char,.css-w5n1f6 .token-builtin,.css-w5n1f6 .token-inserted{color:#ce9178;}.css-w5n1f6 .token-operator,.css-w5n1f6 .token-entity,.css-w5n1f6 .token-url{color:#d4d4d4;background:#1e1e1e;}.css-w5n1f6 .token-atrule,.css-w5n1f6 .token-attr-value,.css-w5n1f6 .token-keyword{color:#c586c0;}.css-w5n1f6 .token-function{color:#dcdcaa;}.css-w5n1f6 .token-regex,.css-w5n1f6 .token-important,.css-w5n1f6 .token-variable{color:#d16969;}.css-w5n1f6 .token-important,.css-w5n1f6 .token-bold{font-weight:bold;}.css-w5n1f6 .token-italic{font-style:italic;}.css-w5n1f6 .token-constant{color:#9CDCFE;}.css-w5n1f6 .token-class-name{color:#4EC9B0;}.css-w5n1f6 .token-parameter{color:#9CDCFE;}.css-w5n1f6 .token-interpolation{color:#9CDCFE;}.css-w5n1f6 .token-punctuation.interpolation-punctuation{color:#569cd6;}.css-w5n1f6 .token-boolean{color:#569cd6;}.css-w5n1f6 .token-property{color:#9cdcfe;}.css-w5n1f6 .token-selector{color:#d7ba7d;}.css-w5n1f6 .token-tag{color:#569cd6;}.css-w5n1f6 .token-attr-name{color:#9cdcfe;}.css-w5n1f6 .token-attr-value{color:#ce9178;}.css-w5n1f6 .token-entity{color:#4ec9b0;cursor:unset;}.css-w5n1f6 .token-namespace{color:#4ec9b0;}</style><pre class="cs-content css-w5n1f6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="yem7ld-Code">.css-yem7ld-Code{color:#d4d4d4;background-color:#1e1e1e;}</style><code class="cs-scaled-content css-yem7ld-Code" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.4;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-keyword">const</span><span class="token-plain"> programInfo </span><span class="token-operator">=</span><span class="token-plain"> twgl</span><span class="token-punctuation">.</span><span class="token-method">createProgramInfo</span><span class="token-punctuation">(</span><span class="token-plain">gl</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-plain">vertexShader</span><span class="token-punctuation">,</span><span class="token-plain"> fragmentShader</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div></div><div class="waves-scroller-container" data-wave-scroller="true"><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:0%;width:3px"></div><div><p>In this code we have a type called <code>Uniform</code> and it is defined using the template literal syntax. We can use this type on a variable, and that makes it only possible to assign values to that variable that matches the string pattern. That means variables of type <code>Uniform</code> have to start with the string <code>uniform</code> and then contain some more stuff (with at least one space between any string values). In the code example at the beginning of the article you can see that in the <code>fragmentShader</code> there is one line with <code>uniform float time</code> which will match this pattern.</p><p>You can find more information about template literal types in the <a href="https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html">TypeScript documentation</a>.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>Now we have limited the types our uniform can have. The last line now has the correct format, but it uses an unknown uniform type, one that isn&#x27;t in the list of <code>UniformType</code>, so it&#x27;s not allowed, and the TypeScript compiler will complain.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>Here the <code>Uniform</code> is made generic, so we now have to specify the type and the name that it can have. This might not seem very useful, the example gets quite verbose, but it will be useful in the next step.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>Ok, now we have introduced conditional types as well. Things are starting to get weird. The <code>GetUniform</code> type is a conditional type that checks if its generic parameter <code>T</code> matches the pattern of a <code>Uniform</code>. If it does, it is able to infer what the two missing generic parameters <code>Type</code> and <code>Name</code> are. The really weird thing here is that we say that if it matches the pattern, then it will be a tuple that contain the type and name, and if it doesn&#x27;t match, then it will be <code>unknown</code>. You can read more about conditional types and inference in the <a href="https://www.typescriptlang.org/docs/handbook/2/conditional-types.html">TypeScript documentation</a>.</p><p>I have left out the implementation of the function <code>test</code> here. It will use some deep webgl functionality to be able to return what we declare it will return. Sometimes when working with TypeScript you have to ignore what happens inside a function and just say what it will return, and this is one of those cases. This is when the conditional types are useful, as we can say what it will return depending on the parameters without having to say how it will work.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>Getting a tuple isn&#x27;t that useful, it&#x27;s much more useful to get an object that we can use. The type <code>Record</code> is a built-in type in TypeScript, and it is the type for an object with keys and values. The way it is used here produces an object with a single key, which is the Name, and a value that is the string Type. Therefore <code>result</code> is now an object, which we can assign a value to! The value we can assign to it is currently limited to the string value <code>vec2</code> though, since that is what we got from the line of C code. What we really want to assign here is either a number or an array of numbers, since that is what the shader program expects to get. So we need to somehow map from the types in <code>UniformType</code> to the correct TypeScript type.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>One more conditional type. Here we check if the the <code>Type</code> is &#x27;float&#x27;, and if it is, the real type should be <code>number</code>, but if it is one of the other options (vec2, vec3, ..., mat4) then should be an array of numbers. The last line shows that we can now set an array of numbers to our uniform <code>something</code>, because it was of type <code>vec2</code>. We might have done something a bit more clever to limit the lengh of the arrays assignable, so that a <code>vec2</code> becomes a <code>[number, number]</code>, while a <code>mat4</code> becomes an array with 16 numbers, but let&#x27;s leave it like it is for now. The type of <code>result</code> is inferred from the return value of <code>test()</code>, so we don&#x27;t need to specify it. TypeScript will know what the type is based purely on the string we passed to <code>test()</code> and it will warn us if we do something wrong, like in the last line, where we assign a number to something that should be an array of numbers.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>The limitation we have had until now is that we only support a single line of code. That&#x27;s not very useful, so let&#x27;s have a look at working with a multi-statement codesnippet. Here there is a new conditional type called <code>GetAllUniforms</code>. It looks for semicolons in strings and infers what comes before and after the semicolon. It then takes the <code>Statement</code> and passes it to <code>GetUniform</code>, and then it passes the rest of the string to itself recursively. This way it is able to handle multiple statements and merge it all together as as single object using the <code>&amp;</code> operator. There is a limitation here that our code has to be on one line, which we want to change.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>I&#x27;ve introduced here the <code>Trim</code> type, which uses a combination of conditional types and template literal types to trim away newlines and spaces. This way we can format our two uniform statements on separate lines. Note also that we can have more than just those two statements, since the <code>GetUniform</code> type will turn strings that don&#x27;t match what it expects into <code>unknown</code>, and this is ignored by the <code>&amp;</code> operator. That is, <code>{a: number} &amp; {b: number} &amp; unknown</code> is the same as <code>{a: number, b: number}</code>.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>This is the interface of <code>Twgl</code> that we have to implement. The first method, <code>createProgramInfo</code>, takes a tuple of shaders and returns something, we don&#x27;t really know what it is, but it is <code>ProgramInfo</code>. The second method takes the <code>programInfo</code> together with a <code>uniforms</code> object. I&#x27;ve indicated here that it is an <code>Record</code> where the name is a <code>string</code> and the type is either a <code>number</code> or an <code>ArrayLike&lt;number&gt;</code>. Currently this isn&#x27;t very useful, there is no way to ensure that the <code>uniforms</code> passed to <code>setUniforms</code> contains all the right keys with the correct types. So let&#x27;s replace some of the types with the clever stuff we have already written.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>The big change here is to make everything generic on the two shaders, the vertex shader <code>VS</code> and the fragment shader <code>FS</code>. This way the <code>setUniforms</code> method can declare that the second parameter, the <code>uniforms</code>, depends on those two shaders. Note that it uses <code>GetAllUniforms&lt;VS&gt; &amp; GetAllUniforms&lt;FS&gt;</code> to extract all the uniforms from both the vertex shader and the fragment shader and combine them into a single object. TypeScript is able to infer all of these generic parameters, so we don&#x27;t have to specify them in our code.</p></div></div><div class="waves-scroller-step"><div class="waves-scroller-progress" style="top:0%;bottom:100%"></div><div><p>So now, given the <code>vertexShader</code> and the <code>fragmentShader</code> the <code>twgl.setUniforms()</code> method will complain if the <code>time: 10</code> line is missing.</p></div></div></div></div><p>This is of course just a simple demonstration, and it does not handle all scenarios and it can be improved quite a bit. For example, since it splits on semicolon only, it&#x27;s not able to handle comments. Comments start with <code>//</code> and end at a newline, but we don&#x27;t split our code on newlines, only on semicolon, so the statement on the line after a comment is included with the comment. Note also that since we split on semicolon we don&#x27;t actually parse the code very well, but that&#x27;s not necessary since we are only interested in getting the uniforms, and they are all declared at the top level. Therefore we don&#x27;t care that the parsing doesn&#x27;t understand <code>{</code> and <code>}</code>.</p><p>The code currently only extracts the uniforms, it would be useful to extract the attributes as well. It can be done in almost exactly the same way, just producing a different shape of the object. And I have skipped the uniform types <code>sampler2D</code> and <code>samplerCube</code>, but it shouldn&#x27;t be too difficult to implement them too.</p><p>A lot of the code above is based on work done by others, for example the <a href="https://github.com/codemix/ts-sql">ts-sql</a> I mentioned earlier. There is a <a href="https://github.com/ghoullier/awesome-template-literal-types">curated list of awesome template literal types</a> and examples by very clever people. TypeScript has become very powerful as of version 4.1.</p><p>I think this could be a very useful way for TypeScript code to suddenly understand other languages, like CSS or SQL. I&#x27;ve created a <a href="https://github.com/microsoft/TypeScript/issues/42219">feature suggestion for the TypeScript language</a> to support importing other files as strings, and then using template literal types and conditional types be able to parse the string and produce useful types that can be used in projects.</p>
      </section>

      <div>
        <em>
          Did you find a mistake or have a suggestion for an improvement?
          <a href="https://github.com/mariusGundersen/website/issues/new" target="_blank">Let me know</a>
          or
          <a href="https://github.com/mariusGundersen/website/blob/master/article/template-literal-types/index.md" target="_blank">fork it</a>
          and send me a pull-request.
        </em>
      </div>
  

      <footer>
        <div>
          <div id="contactMe">
            <a href="mailto:me@mariusgundersen.com">Email</a>
            <a href="//twitter.com/gundersenMarius">Twitter</a>
            <a href="//github.com/mariusGundersen/">GitHub</a>
            <a href="https://stackoverflow.com/users/1585/marius">Stack Overflow</a>
          </div>
        </div>

        <script type="text/javascript">
          var _paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(['trackPageView']);
          _paq.push(['enableLinkTracking']);
          (function() {
            var u="//analytics.mariusgundersen.net/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '1']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
          })();
        </script>
      </footer>
    </div>
  </body>

  </html>

  <script src="./index.js"></script>
  <link rel="stylesheet" href="/style/waves.css?v=1741464252232" />
  <link rel="stylesheet" href="/style/vscode-dark.css?v=1741464252232" />
